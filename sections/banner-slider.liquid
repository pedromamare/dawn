{% comment %}
  Banner Slider (Hero)
  Slider de banners principal da homepage com suporte para desktop e mobile
{% endcomment %}

<header>
  <div data-delay="{{ section.settings.autoplay_delay | default: 10 }}"
       data-animation="cross"
       class="basic-slider w-slider"
       data-autoplay="{{ section.settings.autoplay }}"
       data-easing="ease-out-quad"
       data-hide-arrows="false"
       data-disable-swipe="false"
       data-autoplay-limit="1"
       data-nav-spacing="6"
       data-duration="{{ section.settings.transition_duration | default: 700 }}"
       data-infinite="true">

    <div class="basic-mask w-slider-mask">
      {% for block in section.blocks %}
        <div class="banner-header w-slide" {{ block.shopify_attributes }}>
          {% if block.settings.link_url != blank %}
            <a href="{{ block.settings.link_url }}">
          {% endif %}

          {%- comment -%} Desktop Banner {%- endcomment -%}
          {% if block.settings.image_desktop != blank %}
            <img src="{{ block.settings.image_desktop | image_url: width: 2000 }}"
                 loading="lazy"
                 sizes="(max-width: 2000px) 100vw, 2000px"
                 srcset="{{ block.settings.image_desktop | image_url: width: 500 }} 500w,
                         {{ block.settings.image_desktop | image_url: width: 800 }} 800w,
                         {{ block.settings.image_desktop | image_url: width: 1080 }} 1080w,
                         {{ block.settings.image_desktop | image_url: width: 1600 }} 1600w,
                         {{ block.settings.image_desktop | image_url: width: 2000 }} 2000w"
                 alt="{{ block.settings.alt_text | default: block.settings.title }}"
                 class="banner-desktop hide-tablet">
          {% endif %}

          {%- comment -%} Mobile Banner {%- endcomment -%}
          {% if block.settings.image_mobile != blank %}
            <img src="{{ block.settings.image_mobile | image_url: width: 1024 }}"
                 loading="lazy"
                 sizes="(max-width: 1024px) 100vw, 1024px"
                 srcset="{{ block.settings.image_mobile | image_url: width: 500 }} 500w,
                         {{ block.settings.image_mobile | image_url: width: 800 }} 800w,
                         {{ block.settings.image_mobile | image_url: width: 1024 }} 1024w"
                 alt="{{ block.settings.alt_text | default: block.settings.title }}"
                 class="banner-mobile hide-desktop">
          {% endif %}

          {% if block.settings.link_url != blank %}
            </a>
          {% endif %}
        </div>
      {% endfor %}
    </div>

    {%- comment -%} Navigation Arrows {%- endcomment -%}
    <div class="dark-slide-arrow left w-slider-arrow-left">
      <div class="slider-arrow-wrapper">
        <img loading="lazy" src="{{ 'arrow-left24x242x-5.svg' | asset_url }}" alt="Previous" class="slider-arrow-2">
      </div>
    </div>
    <div class="dark-slide-arrow right w-slider-arrow-right">
      <div class="slider-arrow-wrapper">
        <img loading="lazy" src="{{ 'arrow-right24x242x-5.svg' | asset_url }}" alt="Next" class="slider-arrow-2">
      </div>
    </div>

    {%- comment -%} Pagination Dots {%- endcomment -%}
    <div class="slide-nav tablet-mobile-slide-nav w-slider-nav w-slider-nav-invert w-round"></div>
  </div>
</header>

{% schema %}
{
  "name": "Banner Slider",
  "tag": "section",
  "class": "section-banner-slider",
  "settings": [
    {
      "type": "checkbox",
      "id": "autoplay",
      "label": "Autoplay",
      "default": true
    },
    {
      "type": "range",
      "id": "autoplay_delay",
      "label": "Autoplay Delay (segundos)",
      "min": 3,
      "max": 10,
      "step": 1,
      "default": 5,
      "unit": "s"
    },
    {
      "type": "range",
      "id": "transition_duration",
      "label": "Duração da Transição (ms)",
      "min": 300,
      "max": 1500,
      "step": 100,
      "default": 700,
      "unit": "ms"
    }
  ],
  "blocks": [
    {
      "type": "slide",
      "name": "Banner Slide",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Título (interno)",
          "info": "Apenas para identificação no admin"
        },
        {
          "type": "image_picker",
          "id": "image_desktop",
          "label": "Imagem Desktop"
        },
        {
          "type": "image_picker",
          "id": "image_mobile",
          "label": "Imagem Mobile"
        },
        {
          "type": "text",
          "id": "alt_text",
          "label": "Texto Alternativo (ALT)"
        },
        {
          "type": "url",
          "id": "link_url",
          "label": "Link do Banner"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Banner Slider",
      "blocks": [
        {
          "type": "slide"
        },
        {
          "type": "slide"
        },
        {
          "type": "slide"
        }
      ]
    }
  ]
}
{% endschema %}
